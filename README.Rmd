---
output: md_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# Bayesian Mediation Analysis

`bama` is a Bayesian inference method that uses continuous shrinkage priors for
high-dimensional Bayesian mediation analysis, developed by Song et al (2018).
`bama` provides estimates for the regression coefficients as well as
the posterior inclusion probability for ranking mediators.

## Installation
You can install `bama` via CRAN

```{r, eval = F}
install.packages("bama")
```
Or devtools
```{r, eval = F}
devtools::install_github("umich-cphds/bama", build_opts = c())
```

If you wish to install the package via devtools, you will need a C++ compiler
installed. This can be accomplished by installing Rtools on Windows and Xcode
on MacOS.

## Example
This example is taken from the `bama` help file to help you get started using
the method. Please check the documentation of the function by typing
`?bama::bama`, and the vignette by typing `vingette("bama")` in R.

```{r}
library(bama)

Y <- bama.data$y
A <- bama.data$a

# grab the mediators from the example data.frame
M <- as.matrix(bama.data[, paste0("m", 1:100)], nrow(bama.data))

# We just include the intercept term in this example.
C <- matrix(1, nrow(M), 1)
beta.m  <- rep(0, 100)
alpha.a <- rep(0, 100)

set.seed(1245)
bama.out <- bama(Y, A, M, C, C, beta.m, alpha.a, burnin = 3000, ndraws = 100)

# Rank mediators and see summary information
head(summary(bama.out, rank = T))
```

# Reference
Yanyi Song, Xiang Zhou et al. Bayesian Shrinkage Estimation of High
Dimensional Causal Mediation Effects in Omics Studies.
[bioRxiv 467399](https://doi.org/10.1101/467399)
